{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Hitech NDT - Công nghệ kiểm tra không phá hủy hàng đầu Việt Nam{% endblock %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block description %}HITECH NDT - Công ty hàng đầu về công nghệ kiểm tra không phá hủy tại Việt Nam. Cung cấp dịch vụ kiểm tra NDT chuyên nghiệp, đào tạo chứng chỉ và tư vấn kỹ thuật.{% endblock %}">
    <meta name="keywords" content="{% block keywords %}hitech ndt, kiểm tra không phá hủy, NDT Vietnam, ultrasonic testing, radiographic testing, magnetic particle testing, penetrant testing, đào tạo NDT, chứng chỉ NDT{% endblock %}">
    <meta name="author" content="Hitech NDT">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags for Social Media -->
    <meta property="og:title" content="{% block og_title %}{% if site_settings %}{{ site_settings.company_name }} - {{ site_settings.company_slogan }}{% else %}Hitech NDT - Công nghệ kiểm tra không phá hủy hàng đầu{% endif %}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{% if site_settings %}{{ site_settings.company_description }}{% else %}Công ty hàng đầu về NDT tại Việt Nam - Dịch vụ kiểm tra chuyên nghiệp và đào tạo chứng chỉ{% endif %}{% endblock %}">
    <meta property="og:image" content="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    <meta property="og:url" content="https://hitechndt.vn">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="{% if site_settings %}{{ site_settings.company_name }}{% else %}Hitech NDT{% endif %}">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{% if site_settings %}{{ site_settings.company_name }} - Công nghệ kiểm tra không phá hủy{% else %}Hitech NDT - Công nghệ kiểm tra không phá hủy{% endif %}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{% if site_settings %}{{ site_settings.company_description }}{% else %}Dịch vụ NDT chuyên nghiệp và đào tạo chứng chỉ tại Việt Nam{% endif %}{% endblock %}">
    <meta name="twitter:image" content="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    <link rel="apple-touch-icon" href="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="{% static 'manifest.json' %}">
    <meta name="theme-color" content="#00d4ff">
    <meta name="msapplication-TileColor" content="#0f2027">
    <meta name="msapplication-TileImage" href="{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        /* Optimized Modern Navbar - Compact Version */
        .modern-navbar {
            background: linear-gradient(135deg, 
                #0f2027 0%, 
                #203a43 25%, 
                #2c5364 50%, 
                #203a43 75%, 
                #0f2027 100%);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            border: none;
            border-radius: 0;
            min-height: 60px;
            padding: 5px 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        .modern-navbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
            animation: navbarGlow 8s ease-in-out infinite alternate;
        }
        
        @keyframes navbarGlow {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .modern-navbar .container {
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 15px;
            padding-right: 15px;
            position: relative;
        }
        
        .modern-navbar .container-fluid {
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 15px;
            padding-right: 15px;
            position: relative;
        }
        
        /* Visual indicator - subtle border bottom for container */
        .modern-navbar .container::after,
        .modern-navbar .container-fluid::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 15px;
            right: 15px;
            height: 1px;
            background: rgba(255,255,255,0.1);
        }
        
        /* Brand Logo */
        .modern-navbar .navbar-brand {
            font-size: 24px;
            font-weight: 700;
            color: #fff;
            padding: 0 15px;
        }
        
        .modern-navbar .navbar-brand img {
            height: 40px;
            filter: brightness(1.2) drop-shadow(0 0 10px rgba(0,212,255,0.5));
        }
        
        .modern-navbar .navbar-brand:hover {
            transform: scale(1.05); /* Reduced scale */
        }
        
        .modern-navbar .navbar-brand:hover img {
            transform: rotate(3deg) scale(1.1); /* Reduced rotation */
        }
        
        /* Nav Links - ĐỒNG BỘ TOÀN BỘ TRANG */
        .modern-navbar .nav-link {
            color: rgba(255,255,255,0.9) !important;
            font-weight: 500;
            font-size: 15px;
            padding: 8px 16px !important;
            margin: 0 2px;
            transition: all 0.3s;
        }
        
        .modern-navbar .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #00d4ff, #0066ff);
            transition: all 0.3s ease;
            transform: translateX(-50%);
            border-radius: 1px;
        }
        
        .modern-navbar .nav-link:hover::after {
            width: 80%; /* Adjusted width for smaller text */
        }
        
        .modern-navbar .nav-link:hover {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.1), 
                rgba(0, 102, 255, 0.1));
            transform: translateY(-2px); /* Reduced movement */
            box-shadow: 0 6px 15px rgba(0, 212, 255, 0.2); /* Smaller shadow */
            color: #fff !important;
        }
        
        /* Removed dropdown CSS */
        
        /* Compact Search */
        .modern-search {
            position: relative;
        }
        
        .modern-search .nav-link {
            background: linear-gradient(135deg, 
                rgba(0, 212, 255, 0.1), 
                rgba(0, 102, 255, 0.1));
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 50%;
            width: 36px; /* Reduced size */
            height: 36px; /* Reduced size */
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            padding: 0 !important; /* Remove padding */
            margin: 0 4px; /* Minimal margin */
        }
        
        .modern-search .nav-link i {
            font-size: 14px; /* Smaller icon */
        }
        
        .modern-search .nav-link:hover {
            background: linear-gradient(135deg, #00d4ff, #0066ff);
            transform: scale(1.1); /* Reduced scale */
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }
        
        .modern-search .search-dropdown {
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            padding: 20px;
            width: 320px;
            position: absolute;
            top: 100%;
            right: 0;
            z-index: 1000;
            display: none;
            animation: searchDropdownFadeIn 0.3s ease-out;
            margin-top: 10px;
        }
        
        .modern-search .search-dropdown::before {
            content: '';
            position: absolute;
            top: -8px;
            right: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(255,255,255,0.98);
        }
        
        .modern-search .search-dropdown.show {
            display: block;
        }
        
        .search-dropdown .input-group {
            position: relative;
        }
        
        .search-dropdown .input-group .form-control {
            border-radius: 15px 0 0 15px;
            border: 2px solid #e9ecef;
            padding: 12px 16px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        .search-dropdown .input-group .form-control:focus {
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
            background: white;
        }
        
        .search-dropdown .input-group .btn {
            border-radius: 0 15px 15px 0;
            padding: 12px 16px;
            background: linear-gradient(135deg, #00d4ff, #0066ff);
            border: 2px solid #00d4ff;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .search-dropdown .input-group .btn:hover {
            background: linear-gradient(135deg, #00b8e6, #0056cc);
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }
        
        /* Search icon styles */
        .nav-item .fa-search {
            font-size: 1.0rem;
        }
        
        /* Compact Staff Button */
        .staff-button {
            margin-left: 8px;
            margin-right: 6px;
        }
        
        .staff-button .nav-link,
        .staff-dropdown .nav-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 25px;
            padding: 8px 20px !important;
            color: white !important;
            font-weight: 600;
            font-size: 14px;
            text-transform: none;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102,126,234,0.3);
            display: flex;
            align-items: center;
            text-decoration: none;
            margin: 0 4px;
            white-space: nowrap;
            position: relative;
            overflow: hidden;
        }
        
        .staff-button .nav-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .staff-button .nav-link:hover::before {
            left: 100%;
        }
        
        .staff-button .nav-link i,
        .staff-dropdown .nav-link i {
            font-size: 14px;
            margin-right: 6px;
        }
        
        .staff-button .nav-link:hover,
        .staff-dropdown .nav-link:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 8px 25px rgba(102,126,234,0.4);
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
            border-color: rgba(255,255,255,0.5);
        }
        
        /* Enhanced Search Dropdown */
        .modern-search .search-dropdown {
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            padding: 20px;
            width: 320px;
            position: absolute;
            top: 100%;
            right: 0;
            z-index: 1000;
            display: none;
            animation: searchDropdownFadeIn 0.3s ease-out;
            margin-top: 10px;
        }
        
        .modern-search .search-dropdown::before {
            content: '';
            position: absolute;
            top: -8px;
            right: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid rgba(255,255,255,0.98);
        }
        
        .modern-search .search-dropdown.show {
            display: block;
        }
        
        .search-dropdown .input-group {
            position: relative;
        }
        
        .search-dropdown .input-group .form-control {
            border-radius: 15px 0 0 15px;
            border: 2px solid #e9ecef;
            padding: 12px 16px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }
        
        .search-dropdown .input-group .form-control:focus {
            border-color: #00d4ff;
            box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
            background: white;
        }
        
        .search-dropdown .input-group .btn {
            border-radius: 0 15px 15px 0;
            padding: 12px 16px;
            background: linear-gradient(135deg, #00d4ff, #0066ff);
            border: 2px solid #00d4ff;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .search-dropdown .input-group .btn:hover {
            background: linear-gradient(135deg, #00b8e6, #0056cc);
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }
        
        /* Responsive adjustments for better font sizing */
        /* Large Desktop Responsive */
        @media (max-width: 1400px) {
            .modern-navbar .nav-link {
                font-size: 0.75rem;
                padding: 5px 6px !important;
                letter-spacing: 0.3px;
            }
            
            .modern-navbar .navbar-brand {
                font-size: 20px;
                margin-right: 10px;
            }
            
            .modern-navbar .navbar-brand img {
                height: 30px;
            }
            
            /* Navbar responsive height */
            .modern-navbar {
                min-height: 52px;
                height: 52px;
                padding: 6px 0;
            }
        }
        
        /* Hide non-essential items on smaller screens */
        @media (max-width: 1100px) {
            .language-selector {
                display: none;
            }
            
            .modern-navbar .nav-link {
                font-size: 0.65rem;
                padding: 3px 4px !important;
                letter-spacing: 0.1px;
            }
        }
        
        @media (max-width: 1200px) {
            .modern-navbar .container,
            .modern-navbar .container-fluid {
                max-width: 100%;
                padding-left: 20px;
                padding-right: 20px;
            }
            
            .modern-navbar .navbar-brand {
                margin-left: 0;
                font-size: 18px;
            }
            
            .modern-navbar .navbar-brand img {
                height: 28px;
            }
            
            /* Navbar responsive height 1200px */
            .modern-navbar {
                min-height: 50px;
                height: 50px;
                padding: 5px 0;
            }
            
            .modern-navbar .nav-link {
                font-size: 0.75rem; /* Tăng font size responsive */
                padding: 5px 7px !important;
                letter-spacing: 0.3px;
                line-height: 1.3;
                min-height: 34px;
            }
        }
        
        @media (max-width: 992px) {
            .modern-navbar .container,
            .modern-navbar .container-fluid {
                padding-left: 15px;
                padding-right: 15px;
            }
            
            .modern-navbar .navbar-brand {
                margin-left: 0;
                font-size: 16px;
            }
            
            .modern-navbar .navbar-brand img {
                height: 26px;
            }
            
            .modern-navbar .nav-link {
                font-size: 0.68rem;
                padding: 4px 5px !important;
                letter-spacing: 0.2px;
                line-height: 1.3;
                min-height: 30px;
            }
        }
        
                @media (max-width: 768px) {
            .modern-navbar {
                min-height: 58px !important;
                height: 58px !important;
                padding: 8px 0 !important;
            }
            
            .modern-navbar .container,
            .modern-navbar .container-fluid {
                padding-left: 15px;
                padding-right: 15px;
            }
            
            .modern-navbar .navbar-brand {
                margin-left: 0;
                font-size: 16px;
                height: auto;
                padding: 0;
            }
            
            .modern-navbar .navbar-brand img {
                height: 30px;
            }
            
            /* SIMPLE MOBILE NAVBAR - Không ghi đè Bootstrap */
            .navbar-collapse {
                background: linear-gradient(135deg, 
                    rgba(15, 32, 39, 0.98) 0%, 
                    rgba(32, 58, 67, 0.98) 100%);
                border-radius: 12px;
                margin-top: 15px;
                padding: 20px;
                backdrop-filter: blur(20px);
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                border: 1px solid rgba(255,255,255,0.1);
            }
            
            .modern-navbar .nav-link {
                font-size: 0.9rem;
                padding: 12px 16px !important;
                letter-spacing: 0.3px;
                line-height: 1.4;
                min-height: 44px;
                border-radius: 8px;
                margin: 4px 0;
                color: rgba(255,255,255,0.95) !important;
                background: rgba(255,255,255,0.05);
                border: 1px solid rgba(255,255,255,0.1);
                transition: all 0.3s ease;
                display: block;
                text-decoration: none;
            }
            
            .modern-navbar .nav-link:hover {
                background: rgba(0, 212, 255, 0.2);
                color: #fff !important;
                border-color: rgba(0, 212, 255, 0.3);
                transform: translateX(8px);
            }
            
            .navbar-nav {
                padding: 0;
            }
            
            .navbar-nav .nav-item {
                margin: 0;
                width: 100%;
            }
            
            /* Removed dropdown CSS */
        }
        
                @media (max-width: 576px) {
            .modern-navbar {
                min-height: 58px !important;
                height: 58px !important;
                padding: 8px 0 !important;
            }
            
            .modern-navbar .container,
            .modern-navbar .container-fluid {
                padding-left: 10px;
                padding-right: 10px;
            }
            
            .modern-navbar .navbar-brand {
                font-size: 15px;
                margin-left: 0;
                height: auto;
                padding: 0;
            }
            
            .modern-navbar .navbar-brand img {
                height: 28px;
            }
            
            .modern-navbar .nav-link {
                font-size: 0.85rem;
                padding: 14px 16px !important;
                letter-spacing: 0.3px;
                height: auto;
                min-height: 48px;
                line-height: 1.4;
                border-radius: 10px;
                margin: 6px 0;
                color: rgba(255,255,255,0.95) !important;
                background: rgba(255,255,255,0.05);
                border: 1px solid rgba(255,255,255,0.1);
                transition: all 0.3s ease;
                display: block;
                text-decoration: none;
            }
            
            .modern-navbar .nav-link:hover {
                background: rgba(0, 212, 255, 0.25);
                color: #fff !important;
                border-color: rgba(0, 212, 255, 0.4);
                transform: translateX(12px);
                box-shadow: 0 4px 15px rgba(0, 212, 255, 0.2);
            }
            
            .staff-button .nav-link,
            .staff-dropdown .nav-link {
                font-size: 0.8rem;
                padding: 12px 16px !important;
                min-height: 44px;
                border-radius: 25px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border: 2px solid rgba(255,255,255,0.3);
                color: white !important;
                margin: 8px 0;
                text-align: center;
            }
            
            .staff-button .nav-link:hover,
            .staff-dropdown .nav-link:hover {
                transform: translateX(8px) scale(1.02);
                background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
                box-shadow: 0 6px 20px rgba(102,126,234,0.3);
            }
            
            .navbar-collapse {
                border-radius: 15px;
                margin-top: 18px;
                padding: 25px 20px;
            }
            
            .navbar-nav {
                padding: 0;
            }
            
            .navbar-nav .nav-item {
                margin: 0;
                width: 100%;
            }
            
            /* Removed mobile dropdown CSS */
        }
        
        /* Compact Language Selector */
        .language-selector {
            margin-left: 6px;
        }
        .language-selector .nav-link {
            background: linear-gradient(135deg, 
                rgba(255,255,255,0.15), 
                rgba(255,255,255,0.1));
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 18px; /* Smaller radius */
            padding: 6px 12px !important; /* Compact padding */
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 12px; /* Smaller font */
            margin: 0 4px; /* Minimal margin */
            white-space: nowrap;
        }
        .language-selector .nav-link:hover {
            background: linear-gradient(135deg, 
                rgba(255,255,255,0.25), 
                rgba(255,255,255,0.15));
            transform: translateY(-2px); /* Reduced movement */
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .language-selector .flag-icon {
            width: 20px; /* Reduced size */
            height: 14px; /* Reduced size */
            margin-right: 6px; /* Reduced spacing */
            border-radius: 2px;
        }
        .language-selector:hover .flag-icon {
            transform: scale(1.1) rotate(3deg);
        }
        /* Removed all dropdown CSS */
        
        /* Zalo Button Styles */
        #zalo-logo:hover img {
            transform: scale(1.1) rotate(5deg);
        }
        
        #zalo-chat-widget {
            animation: fadeInUp 0.3s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Zalo Mobile Responsive */
        @media (max-width: 768px) {
            #zalo-logo {
                bottom: 8% !important;
                right: 20px !important;
            }
            
            #zalo-logo img {
                width: 45px !important;
                height: 45px !important;
            }
            
            #zalo-chat-widget {
                right: 80px !important;
                width: 250px !important;
                bottom: 8% !important;
            }
        }
        
        @media (max-width: 480px) {
            #zalo-logo {
                bottom: 6% !important;
                right: 15px !important;
            }
            
            #zalo-logo img {
                width: 40px !important;
                height: 40px !important;
            }
            
            #zalo-chat-widget {
                right: 70px !important;
                width: 200px !important;
                bottom: 6% !important;
            }
        }
        
        /* Breadcrumb Styles */
        .breadcrumb-section {
            background: white;
            padding: 1rem 0;
            border-bottom: 1px solid #e2e8f0;
            /* margin-bottom: 2rem; */
        }
        
        .breadcrumb {
            background: none;
            padding: 0;
            margin: 0;
            font-size: 0.9rem;
        }
        
        .breadcrumb-item a {
            color: #2563eb;
            text-decoration: none;
            transition: all 0.2s;
        }
        
        .breadcrumb-item a:hover {
            text-decoration: underline;
            color: #1d4ed8;
        }
        
        .breadcrumb-item.active {
            color: #64748b;
            font-weight: 500;
        }
        
        .breadcrumb-item + .breadcrumb-item::before {
            content: '›';
            color: #94a3b8;
            font-weight: 600;
        }
        
        /* Thông báo lỗi */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }
        
        .toast {
            max-width: 350px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            overflow: hidden;
            margin-bottom: 10px;
            display: none;
        }
        
        .toast.show {
            display: block;
            animation: fadeInRight 0.5s;
        }
        
        .toast-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 15px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        
        .toast-body {
            padding: 12px 15px;
        }
        
        .toast-error {
            border-left: 4px solid #dc3545;
        }
        
        .toast-warning {
            border-left: 4px solid #ffc107;
        }
        
        .toast-success {
            border-left: 4px solid #28a745;
        }
        
        .toast-info {
            border-left: 4px solid #17a2b8;
        }
        
        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(300px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Messages */
        .messages-container {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1055;
            max-width: 400px;
            pointer-events: none;
        }
        
        .messages-container .alert {
            border: none;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
            margin-bottom: 10px;
            padding: 15px 20px;
            font-weight: 500;
            animation: slideInRight 0.3s ease;
            pointer-events: auto;
            position: relative;
            z-index: 1056;
        }
        
        .messages-container .alert-success {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.95), rgba(28, 200, 138, 0.95));
            color: white;
        }
        
        .messages-container .alert-error {
            background: linear-gradient(135deg, rgba(220, 53, 69, 0.95), rgba(231, 76, 60, 0.95));
            color: white;
        }
        
        .messages-container .alert-warning {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.95), rgba(255, 152, 0, 0.95));
            color: white;
        }
        
        .messages-container .alert-info {
            background: linear-gradient(135deg, rgba(23, 162, 184, 0.95), rgba(0, 123, 255, 0.95));
            color: white;
        }
        
        .messages-container .alert i {
            margin-right: 8px;
        }
        
        .messages-container .btn-close {
            filter: invert(1);
            opacity: 0.8;
            z-index: 1060;
            position: relative;
            background: none !important;
            border: none !important;
            font-size: 18px !important;
            line-height: 1 !important;
            padding: 4px 8px !important;
            margin: 0 !important;
        }
        
        .messages-container .btn-close:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .scroll-to-top {
            position: fixed;
            bottom: 145px;
            right: 50px;
            width: 40px;
            height: 40px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        .scroll-to-top:hover {
            background-color: #0056b3;
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .scroll-to-top i {
            font-size: 20px;
        }

        /* Removed all dropdown styles */
        
        @keyframes searchDropdownFadeIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* --- MOBILE MENU OFFCANVAS --- */
        .mobile-menu-offcanvas {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: 12000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.25s;
        }
        .mobile-menu-offcanvas.active {
            opacity: 1;
            pointer-events: auto;
        }
        .mobile-menu-overlay {
            position: absolute;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(30,40,60,0.45);
            transition: background 0.3s;
            z-index: 1;
        }
        .mobile-menu-content {
            position: absolute;
            top: 0; left: 0;
            width: 82vw; max-width: 340px; height: 100vh;
            background: linear-gradient(135deg, #1e293b 80%, #2563eb 100%);
            box-shadow: 2px 0 32px rgba(0,0,0,0.18);
            transform: translateX(-100%);
            transition: transform 0.35s cubic-bezier(.77,0,.18,1);
            z-index: 2;
            display: flex; flex-direction: column;
        }
        .mobile-menu-offcanvas.active .mobile-menu-content {
            transform: translateX(0);
        }
        .mobile-menu-close {
            background: none; border: none; color: #fff;
            font-size: 2.2rem; font-weight: 700;
            position: absolute; top: 18px; right: 18px;
            z-index: 10; cursor: pointer;
            transition: color 0.2s;
        }
        .mobile-menu-close:hover { color: #38bdf8; }
        .mobile-menu-list {
            list-style: none; padding: 0 0 0 0; margin: 0; margin-top: 60px;
            width: 100%;
        }
        .mobile-menu-list li { margin: 0 0 8px 0; }
        .mobile-menu-list a {
            display: flex; align-items: center;
            font-size: 1.18rem; font-weight: 500;
            color: #fff; text-decoration: none;
            padding: 15px 28px; border-radius: 12px;
            transition: background 0.18s, color 0.18s;
        }
        .mobile-menu-list a i {
            font-size: 1.35em; margin-right: 16px;
            min-width: 28px; text-align: center;
        }
        .mobile-menu-list a:hover, .mobile-menu-list a:focus {
            background: linear-gradient(90deg, #2563eb 60%, #38bdf8 100%);
            color: #fff;
        }
        .mobile-menu-lang {
            display: flex; gap: 8px; margin: 18px 0 0 0; padding: 0 28px;
        }
        .mobile-menu-lang a {
            font-size: 1rem; padding: 8px 14px; border-radius: 8px;
            background: rgba(255,255,255,0.08);
            color: #fff; border: 1px solid rgba(255,255,255,0.12);
            display: flex; align-items: center;
        }
        .mobile-menu-lang a img { width: 22px; height: 16px; margin-right: 7px; border-radius: 2px; }
        .mobile-menu-lang a:hover { background: #38bdf8; color: #fff; }
        @media (min-width: 992px) {
            .mobile-menu-offcanvas { display: none !important; }
            .navbar-toggler { display: none !important; }
        }
        @media (max-width: 991px) {
            .navbar-toggler { display: flex !important; }
        }

        /* Glassmorphism cho panel menu mobile */
        .mobile-menu-content {
            background: rgba(30, 41, 59, 0.78);
            box-shadow: 2px 0 32px rgba(0,0,0,0.18);
            backdrop-filter: blur(18px) saturate(180%);
            -webkit-backdrop-filter: blur(18px) saturate(180%);
            border-radius: 0 18px 18px 0;
            border: 1px solid rgba(255,255,255,0.08);
        }
        .mobile-menu-offcanvas .mobile-menu-overlay {
            background: rgba(30,40,60,0.28);
        }

        /* --- NAVBAR DESKTOP GỌN GÀNG, HIỆN ĐẠI --- */
        .modern-navbar {
            background: rgba(30, 41, 59, 0.92);
            box-shadow: 0 4px 24px 0 rgba(31, 38, 135, 0.10);
            backdrop-filter: blur(12px) saturate(160%);
            -webkit-backdrop-filter: blur(12px) saturate(160%);
            border-radius: 0 0 18px 18px;
            border: 1px solid rgba(255,255,255,0.06);
            padding: 0.2rem 0;
            min-height: 58px;
            transition: background 0.3s, box-shadow 0.3s;
        }
        .modern-navbar .container-fluid {
            display: flex; align-items: center; justify-content: space-between;
        }
        .modern-navbar .navbar-brand {
            font-size: 1.35rem;
            font-weight: 700;
            color: #38bdf8 !important;
            letter-spacing: 1px;
            display: flex; align-items: center;
            gap: 10px;
            padding: 0 10px 0 0;
        }
        .modern-navbar .navbar-brand img {
            height: 34px; width: auto; margin-right: 6px;
            border-radius: 8px; box-shadow: 0 2px 8px rgba(56,189,248,0.10);
        }
        .modern-navbar .navbar-nav {
            display: flex; align-items: center; justify-content: center;
            gap: 6px;
            margin: 0 auto;
        }
        .modern-navbar .nav-link {
            color: #f3f6fa !important;
            font-size: 1.01rem;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 12px;
            margin: 0 1px;
            transition: background 0.18s, color 0.18s, box-shadow 0.18s;
            position: relative;
            background: rgba(255,255,255,0.03);
            display: flex; align-items: center;
            gap: 7px;
        }
        .modern-navbar .nav-link i {
            font-size: 1.08em;
        }
        .modern-navbar .nav-link:hover, .modern-navbar .nav-link:focus {
            background: linear-gradient(90deg, #2563eb 60%, #38bdf8 100%);
            color: #fff !important;
            box-shadow: 0 2px 10px rgba(56,189,248,0.10);
        }
        .modern-navbar .nav-btn {
            background: linear-gradient(90deg, #2563eb 60%, #38bdf8 100%);
            color: #fff !important;
            font-weight: 600;
            border-radius: 18px;
            box-shadow: 0 2px 10px rgba(56,189,248,0.13);
            margin-left: 8px;
            padding: 8px 20px;
        }
        .modern-navbar .nav-btn:hover, .modern-navbar .nav-btn:focus {
            background: #38bdf8;
            color: #fff !important;
        }
        .modern-navbar .nav-lang {
            background: rgba(56,189,248,0.10);
            color: #38bdf8 !important;
            font-size: 0.98rem;
            padding: 7px 13px;
            border-radius: 10px;
            margin-left: 8px;
            display: flex; align-items: center;
            gap: 5px;
        }
        .modern-navbar .nav-lang:hover, .modern-navbar .nav-lang:focus {
            background: #38bdf8;
            color: #fff !important;
        }
        .modern-navbar .flag-icon {
            width: 20px; height: 15px; margin-right: 4px; border-radius: 2px;
        }
        @media (max-width: 991px) {
            .modern-navbar .navbar-nav.d-none.d-lg-flex { display: none !important; }
        }
        @media (max-width: 1200px) {
            .modern-navbar .navbar-brand { font-size: 1.08rem; }
            .modern-navbar .nav-link { font-size: 0.95rem; padding: 7px 10px; }
        }

        .navbar-collapse {
            transition: transform 0.3s ease-in-out;
        }

        @media (max-width: 991.98px) {
            .navbar-collapse {
                position: fixed;
                top: 0;
                left: 0;
                bottom: 0;
                width: 280px;
                padding: 1rem;
                background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
                transform: translateX(-100%);
            }

            .navbar-collapse.show {
                transform: translateX(0);
                box-shadow: 0 0 20px rgba(0,0,0,0.3);
            }

            .navbar-nav {
                margin-top: 20px;
            }

            .nav-link {
                padding: 12px 0;
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }
        }

        .navbar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }

        .navbar-overlay.show {
            display: block;
        }
    </style>
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "{% if site_settings %}{{ site_settings.company_name }}{% else %}Hitech NDT{% endif %}",
      "legalName": "{% if site_settings %}{{ site_settings.company_legal_name|default:'Công ty TNHH Dịch vụ Kiểm tra Không phá hủy Hitech NDT' }}{% else %}Công ty TNHH Dịch vụ Kiểm tra Không phá hủy Hitech NDT{% endif %}",
      "alternateName": "{% if site_settings %}{{ site_settings.company_short_name|default:'HITECH NDT' }}{% else %}HITECH NDT{% endif %}",
      "url": "https://hitechndt.vn",
      "logo": {
        "@type": "ImageObject",
        "url": "https://hitechndt.vn{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}",
        "width": "512",
        "height": "512",
        "contentUrl": "https://hitechndt.vn{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}"
      },
      "description": "{% if site_settings %}{{ site_settings.company_description }}{% else %}Công ty hàng đầu về công nghệ kiểm tra không phá hủy tại Việt Nam. Cung cấp dịch vụ NDT chuyên nghiệp, đào tạo chứng chỉ và tư vấn kỹ thuật.{% endif %}",
      "foundingDate": "2020",
      "email": "info@hitechndt.vn",
      "telephone": "+84-369-617-913",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "141/30/6F Đường 339, Phường Phước Long B",
        "addressLocality": "Thủ Đức",
        "addressRegion": "Hồ Chí Minh",
        "postalCode": "70000",
        "addressCountry": "VN"
      },
      "contactPoint": [
        {
          "@type": "ContactPoint",
          "telephone": "+84-369-617-913",
          "contactType": "customer service",
          "areaServed": "VN",
          "availableLanguage": ["Vietnamese", "English"]
        },
        {
          "@type": "ContactPoint",
          "email": "info@hitechndt.vn",
          "contactType": "customer service",
          "areaServed": "VN",
          "availableLanguage": ["Vietnamese", "English"]
        }
      ],
      "sameAs": [
        "https://www.facebook.com/hitechndt",
        "https://www.linkedin.com/company/hitechndt"
      ],
      "naics": "541380",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Dịch vụ NDT",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Kiểm tra siêu âm (Ultrasonic Testing)",
              "description": "Dịch vụ kiểm tra không phá hủy bằng phương pháp siêu âm"
            }
          },
          {
            "@type": "Offer", 
            "itemOffered": {
              "@type": "Service",
              "name": "Kiểm tra tia X (Radiographic Testing)",
              "description": "Dịch vụ kiểm tra không phá hủy bằng tia X"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service", 
              "name": "Kiểm tra từ tính (Magnetic Particle Testing)",
              "description": "Dịch vụ kiểm tra khuyết tật bề mặt bằng phương pháp từ tính"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Đào tạo chứng chỉ NDT", 
              "description": "Đào tạo và cấp chứng chỉ NDT Level I, II, III theo tiêu chuẩn quốc tế"
            }
          }
        ]
      }
    }
    </script>

    <!-- Website Schema for Search Box and Logo -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "{% if site_settings %}{{ site_settings.company_name }}{% else %}Hitech NDT{% endif %}",
      "alternateName": "{% if site_settings %}{{ site_settings.company_name }} - {{ site_settings.company_slogan }}{% else %}HITECH NDT - Công nghệ kiểm tra không phá hủy{% endif %}",
      "url": "https://hitechndt.vn",
      "description": "Website chính thức của Hitech NDT - Công ty hàng đầu về dịch vụ kiểm tra không phá hủy tại Việt Nam",
      "inLanguage": "vi-VN",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://hitechndt.vn/search/?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      },
      "publisher": {
        "@type": "Organization", 
        "name": "{% if site_settings %}{{ site_settings.company_name }}{% else %}Hitech NDT{% endif %}",
        "logo": {
          "@type": "ImageObject",
          "url": "https://hitechndt.vn{% if site_settings and site_settings.logo %}{{ site_settings.logo.url }}{% else %}{% static 'image/logo-hitech.png' %}{% endif %}",
          "width": "512",
          "height": "512"
        }
      }
    }
    </script>
    
    {% block extra_head %}{% endblock %}
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Toast Notifications Container -->
    <div class="toast-container" id="toastContainer">
        <!-- Toasts will be added here dynamically -->
    </div>
    
    <!-- Modern Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark modern-navbar" id="mainNavbar">
        <div class="container-fluid px-3">
            <a class="navbar-brand" href="{% url "home" %}">
                {% if site_settings and site_settings.logo %}
                    <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.company_name }} Logo" class="d-inline-block align-text-center me-2">
                {% else %}
                    <img src="https://i.imgur.com/QMfyRXg.png" alt="HITECH NDT Logo" class="d-inline-block align-text-center me-2">
                {% endif %}
                {% if site_settings %}{{ site_settings.company_name }}{% else %}HITECH NDT{% endif %}
            </a>
            <button class="navbar-toggler" type="button" id="mobileMenuToggle" aria-label="Mở menu">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Off-canvas Mobile Menu -->
            <div id="mobileMenu" class="mobile-menu-offcanvas" tabindex="-1" aria-hidden="true">
                <div class="mobile-menu-content">
                    <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Đóng menu">&times;</button>
                    <ul class="mobile-menu-list">
                        <li><a href="{% url 'home' %}"><i class="fas fa-home"></i> Trang chủ</a></li>
                        <li><a href="{% url 'about' %}"><i class="fas fa-info-circle"></i> Giới thiệu</a></li>
                        <li><a href="{% url 'blog_list' %}"><i class="fas fa-newspaper"></i> Bài viết</a></li>
                        <li><a href="{% url 'service_list' %}"><i class="fas fa-cogs"></i> Dịch vụ</a></li>
                        <li><a href="{% url 'contact' %}"><i class="fas fa-envelope"></i> Liên hệ</a></li>
                        {% if user.is_authenticated and user.is_staff %}
                        <li><a href="{% url 'staff_dashboard' %}"><i class="fas fa-user-shield"></i> Quản trị</a></li>
                        {% else %}
                        <li><a href="{% url 'staff_login' %}"><i class="fas fa-sign-in-alt"></i> Đăng nhập</a></li>
                        {% endif %}
                        <li class="mobile-menu-lang">
                            <a href="#" id="mobileLangVi"><img src="{% static 'images/flags/vietnam.svg' %}" alt="VI" class="flag-icon"> Tiếng Việt</a>
                            <a href="#" id="mobileLangEn"><img src="{% static 'images/flags/usa.svg' %}" alt="EN" class="flag-icon"> English</a>
                        </li>
                    </ul>
                </div>
                <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
            </div>

            <!-- Navbar desktop menu (giao diện mới, spacing hợp lý, bo tròn, gọn gàng) -->
            <ul class="navbar-nav ms-auto d-none d-lg-flex align-items-center" style="gap: 6px;">
                <li class="nav-item"><a class="nav-link" href="{% url 'home' %}"><i class="fas fa-home"></i> Trang chủ</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'about' %}"><i class="fas fa-info-circle"></i> Giới thiệu</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'blog_list' %}"><i class="fas fa-newspaper"></i> Bài viết</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'service_list' %}"><i class="fas fa-cogs"></i> Dịch vụ</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}"><i class="fas fa-envelope"></i> Liên hệ</a></li>
                {% if user.is_authenticated and user.is_staff %}
                <li class="nav-item"><a class="nav-link nav-btn" href="{% url 'staff_dashboard' %}"><i class="fas fa-user-shield"></i> Quản trị</a></li>
                {% else %}
                <li class="nav-item"><a class="nav-link nav-btn" href="{% url 'staff_login' %}"><i class="fas fa-sign-in-alt"></i> Đăng nhập</a></li>
                {% endif %}
                <li class="nav-item">
                    <a class="nav-link nav-lang" href="#" id="desktopLangToggle">
                        <img src="{% static 'images/flags/vietnam.svg' %}" alt="VI" class="flag-icon"> VI
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    
    <!-- Messages -->
    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            <i class="fas fa-{% if message.tags == 'success' %}check-circle{% elif message.tags == 'error' %}exclamation-circle{% elif message.tags == 'warning' %}exclamation-triangle{% else %}info-circle{% endif %}"></i>
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Main Content -->
    {% block content %}{% endblock %}

    {% csrf_token %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{% static 'js/translations.js' %}"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            
            // Enhanced search functionality
            const searchToggle = document.getElementById('searchToggle');
            const searchDropdown = document.getElementById('searchDropdown');
            
            searchToggle.addEventListener('click', function(e) {
                e.preventDefault();
                searchDropdown.classList.toggle('show');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchToggle.contains(e.target) && !searchDropdown.contains(e.target)) {
                    searchDropdown.classList.remove('show');
                }
            });
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Intersection Observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationDelay = '0.2s';
                        entry.target.style.animationFillMode = 'both';
                    }
                });
            }, observerOptions);
            
            // Observe footer elements
            document.querySelectorAll('.footer-section').forEach(el => {
                observer.observe(el);
            });
            
            // Language switching with enhanced effects
            const languageLinks = document.querySelectorAll('[data-lang]');
            languageLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const lang = this.getAttribute('data-lang');
                    localStorage.setItem('preferredLanguage', lang);
                    
                    // Add transition effect
                    document.body.style.transition = 'opacity 0.3s ease';
                    document.body.style.opacity = '0.8';
                    
                    setTimeout(() => {
                        // Update all text elements
                        document.querySelectorAll('[data-vi]').forEach(el => {
                            if (el.dataset[lang]) {
                                el.textContent = el.dataset[lang];
                            }
                        });
                        
                        // Update language selector
                        updateLanguageDisplay(lang);
                        
                        // Update page language
                        document.documentElement.lang = lang;
                        
                        // Restore opacity
                        document.body.style.opacity = '1';
                    }, 150);
                });
            });
            
            // Function to update language display
            function updateLanguageDisplay(lang) {
                const languageToggle = document.querySelector('#languageToggle');
                if (languageToggle) {
                    if (lang === 'en') {
                        languageToggle.innerHTML = '<img src="/static/images/flags/usa.svg" alt="EN" class="flag-icon"> EN';
                    } else {
                        languageToggle.innerHTML = '<img src="/static/images/flags/vietnam.svg" alt="VI" class="flag-icon"> VI';
                    }
                }
            }
            
            // Set initial language
            const preferredLanguage = localStorage.getItem('preferredLanguage') || 'vi';
            if (preferredLanguage === 'en') {
                document.documentElement.lang = 'en';
                document.querySelectorAll('[data-vi]').forEach(el => {
                    if (el.dataset.en) {
                        el.textContent = el.dataset.en;
                    }
                });
                // Update language selector to show EN
                updateLanguageDisplay('en');
            } else {
                // Update language selector to show VI
                updateLanguageDisplay('vi');
            }
            
            // Auto-hide messages after 5 seconds
            const messages = document.querySelectorAll('.alert');
            messages.forEach(message => {
                setTimeout(() => {
                    message.classList.remove('show');
                    setTimeout(() => {
                        message.remove();
                    }, 300);
                }, 5000);
            });
            
            // SIMPLE MOBILE NAVBAR - Chỉ xử lý auto-close
            const navbarCollapse = document.querySelector('.navbar-collapse');
            
            if (navbarCollapse) {
                // Đóng navbar khi click vào nav-link trên mobile
                const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        if (window.innerWidth <= 768) {
                            // Sử dụng Bootstrap's built-in collapse
                            const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse);
                            if (bsCollapse) {
                                bsCollapse.hide();
                            }
                        }
                    });
                });
            }
        });
    </script>

    <!-- Modern Footer -->
    <footer class="modern-footer">
        <div class="container">
            <div class="row g-4 footer-section">
                <!-- Company Info -->
                <div class="col-lg-4 col-md-6">
                    <div class="mb-4">
                        {% if site_settings and site_settings.logo %}
                            <img src="{{ site_settings.logo.url }}" alt="{{ site_settings.company_name }} Logo" height="50" class="mb-3 footer-logo floating">
                        {% else %}
                            <img src="https://i.imgur.com/QMfyRXg.png" alt="Hitech NDT Logo" height="50" class="mb-3 footer-logo floating">
                        {% endif %}
                        <p class="mb-3" style="color: rgba(255,255,255,0.9); line-height: 1.6;" data-vi="{% if site_settings %}{{ site_settings.company_description }}{% else %}Hitech NDT tự hào là đơn vị hàng đầu trong lĩnh vực kiểm tra không phá hủy và đào tạo chứng chỉ NDT tại Việt Nam{% endif %}" data-en="{% if site_settings %}{{ site_settings.company_description }}{% else %}Hitech NDT is proud to be the leading unit in non-destructive testing and NDT certification training in Vietnam{% endif %}">&copy; 2025 {% if site_settings %}{{ site_settings.company_name }} - {{ site_settings.company_slogan }}{% else %}Hitech NDT - Giải pháp công nghệ hàng đầu{% endif %}</p>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div class="col-lg-2 col-md-6">
                    <h5 data-vi="Liên kết nhanh" data-en="Quick Links">Liên kết nhanh</h5>
                    <ul class="footer-links">
                        <li><a href="{% url 'home' %}" data-vi="Trang chủ" data-en="Home">Trang chủ</a></li>
                        <li><a href="{% url 'about' %}" data-vi="Giới thiệu" data-en="About">Giới thiệu</a></li>
                        <li><a href="{% url 'blog_list' %}" data-vi="Bài viết" data-en="Blog">Bài viết</a></li>
                        <li><a href="{% url 'service_list' %}" data-vi="Dịch vụ" data-en="Services">Dịch vụ</a></li>
                        <li><a href="{% url 'contact' %}" data-vi="Liên hệ" data-en="Contact">Liên hệ</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div class="col-lg-3 col-md-6">
                    <h5 data-vi="Thông tin liên hệ" data-en="Contact Info">Thông tin liên hệ</h5>
                    <div class="footer-contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>123 Đường ABC, Quận XYZ, TP.HCM</span>
                </div>
                <div class="footer-contact-item">
                    <i class="fas fa-phone"></i>
                    <a href="tel:{% if site_settings %}{{ site_settings.footer_phone }}{% else %}+84123456789{% endif %}" style="color: rgba(255,255,255,0.9);">{% if site_settings %}{{ site_settings.footer_phone }}{% else %}+84 123 456 789{% endif %}</a>
                </div>
                <div class="footer-contact-item">
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:{% if site_settings %}{{ site_settings.footer_email }}{% else %}info@hitechndt.com{% endif %}" style="color: rgba(255,255,255,0.9);">{% if site_settings %}{{ site_settings.footer_email }}{% else %}info@hitechndt.com{% endif %}</a>
                </div>
                </div>
                
                <!-- Social Media -->
                <div class="col-lg-3 col-md-6">
                    <h5 data-vi="Kết nối với chúng tôi" data-en="Connect With Us">Kết nối với chúng tôi</h5>
                    <div class="social-links">
                        {% if site_settings and site_settings.facebook_url %}
                            <a href="{{ site_settings.facebook_url }}" class="social-icon"><i class="fab fa-facebook"></i></a>
                        {% else %}
                            <a href="#" class="social-icon"><i class="fab fa-facebook"></i></a>
                        {% endif %}
                        {% if site_settings and site_settings.linkedin_url %}
                            <a href="{{ site_settings.linkedin_url }}" class="social-icon"><i class="fab fa-linkedin"></i></a>
                        {% else %}
                            <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
                        {% endif %}
                        {% if site_settings and site_settings.youtube_url %}
                            <a href="{{ site_settings.youtube_url }}" class="social-icon"><i class="fab fa-youtube"></i></a>
                        {% else %}
                            <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                        {% endif %}
                        {% if site_settings and site_settings.twitter_url %}
                            <a href="{{ site_settings.twitter_url }}" class="social-icon"><i class="fab fa-twitter"></i></a>
                        {% else %}
                            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Copyright -->
            <div class="copyright-section">
                <p data-vi="&copy; 2025 {% if site_settings %}{{ site_settings.company_name }} - {{ site_settings.company_slogan }}{% else %}Hitech NDT - Giải pháp công nghệ hàng đầu{% endif %}" data-en="&copy; 2025 {% if site_settings %}{{ site_settings.company_name }} - {{ site_settings.company_slogan }}{% else %}Hitech NDT - Leading technology solutions{% endif %}">&copy; 2025 {% if site_settings %}{{ site_settings.company_name }} - {{ site_settings.company_slogan }}{% else %}Hitech NDT - Giải pháp công nghệ hàng đầu{% endif %}</p>
            </div>
        </div>
    </footer>

    <style>
    /* Ultra Modern Footer Styles */
    .modern-footer {
        background: linear-gradient(135deg, 
            #0f2027 0%, 
            #203a43 25%, 
            #2c5364 50%, 
            #203a43 75%, 
            #0f2027 100%);
        position: relative;
        overflow: hidden;
        padding: 60px 0 20px;
    }
    
    .modern-footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
            radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 40% 80%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
        animation: footerGlow 8s ease-in-out infinite alternate;
    }
    
    @keyframes footerGlow {
        0% { opacity: 0.5; }
        100% { opacity: 1; }
    }
    
    .modern-footer::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, 
            transparent, 
            rgba(0, 212, 255, 0.5), 
            rgba(102, 126, 234, 0.5), 
            rgba(0, 212, 255, 0.5), 
            transparent);
        animation: topBorderGlow 3s ease-in-out infinite;
    }
    
    @keyframes topBorderGlow {
        0%, 100% { opacity: 0.5; }
        50% { opacity: 1; }
    }
    
    .modern-footer .container {
        position: relative;
        z-index: 2;
    }
    
    .footer-section {
        padding: 40px 0;
    }
    
    .modern-footer h5 {
        color: #fff;
        font-weight: 600;
        margin-bottom: 12px;
        position: relative;
        font-size: 15px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        line-height: 1.2;
    }
    
    .modern-footer h5::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 0;
        width: 50px;
        height: 3px;
        background: linear-gradient(90deg, #00d4ff, #0066ff);
        border-radius: 2px;
        animation: underlineGlow 2s ease-in-out infinite alternate;
    }
    
    @keyframes underlineGlow {
        0% { box-shadow: 0 0 5px rgba(0, 212, 255, 0.5); }
        100% { box-shadow: 0 0 15px rgba(0, 212, 255, 0.8); }
    }
    
    /* Enhanced Footer Logo */
    .footer-logo {
        filter: drop-shadow(0 4px 15px rgba(0, 212, 255, 0.3)) brightness(1.1);
        transition: all 0.4s ease;
    }
    
    .footer-logo.floating {
        animation: logoFloat 3s ease-in-out infinite;
    }
    
    @keyframes logoFloat {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-8px) rotate(2deg); }
    }
    
    .footer-logo:hover {
        transform: scale(1.1) rotate(5deg);
        filter: drop-shadow(0 8px 25px rgba(0, 212, 255, 0.5)) brightness(1.3);
    }
    
    /* Premium Footer Links */
    .footer-links {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .footer-links li {
        margin-bottom: 12px;
        position: relative;
    }
    
    .footer-links a {
        color: rgba(255,255,255,0.8);
        text-decoration: none;
        transition: all 0.4s ease;
        position: relative;
        padding: 8px 0;
        display: inline-block;
        font-weight: 500;
    }
    
    .footer-links a::before {
        content: '';
        position: absolute;
        top: 50%;
        left: -15px;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #00d4ff, #0066ff);
        transition: width 0.4s ease;
        transform: translateY(-50%);
        border-radius: 1px;
    }
    
    .footer-links a:hover::before {
        width: 10px;
    }
    
    .footer-links a:hover {
        color: #00d4ff;
        transform: translateX(15px);
        text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
    }
    
    /* Contact Info */
    .footer-contact-item {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
        padding: 4px 0;
        transition: all 0.3s ease;
        border-radius: 8px;
    }
    
    .footer-contact-item:hover {
        background: rgba(0, 212, 255, 0.1);
        transform: translateX(5px);
        padding-left: 12px;
    }
    
    .footer-contact-item i {
        width: 16px;
        margin-right: 8px;
        color: #00d4ff;
        font-size: 14px;
        transition: all 0.3s ease;
        flex-shrink: 0;
    }
    
    .footer-contact-item:hover i {
        color: #fff;
        transform: scale(1.2);
        text-shadow: 0 0 8px rgba(0, 212, 255, 0.6);
    }
    
    .footer-contact-item span,
    .footer-contact-item a {
        color: rgba(255,255,255,0.9);
        transition: all 0.3s ease;
        font-weight: 500;
        font-size: 13px;
        line-height: 1.2;
    }
    
    .footer-contact-item:hover span,
    .footer-contact-item:hover a {
        color: #fff;
        text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
    }
    
    /* Footer Section Spacing */
    .col-lg-3.col-md-6 {
        padding-left: 15px;
        padding-right: 15px;
    }
    
    /* Ultra Premium Social Links */
    .social-links {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        margin-top: 20px;
    }
    
    .social-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, 
            rgba(0, 212, 255, 0.2), 
            rgba(102, 126, 234, 0.2));
        border: 2px solid rgba(255,255,255,0.2);
        border-radius: 50%;
        color: rgba(255,255,255,0.9);
        text-decoration: none;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
    }
    
    .social-icon::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #00d4ff, #0066ff);
        border-radius: 50%;
        transform: scale(0);
        transition: transform 0.5s ease;
    }
    
    .social-icon i {
        position: relative;
        z-index: 2;
        font-size: 20px;
        transition: all 0.3s ease;
    }
    
    .social-icon:hover::before {
        transform: scale(1);
    }
    
    .social-icon:hover {
        transform: translateY(-8px) scale(1.1) rotate(360deg);
        box-shadow: 
            0 15px 30px rgba(0, 212, 255, 0.4),
            0 0 0 3px rgba(255,255,255,0.3) inset;
        border-color: rgba(255,255,255,0.5);
    }
    
    .social-icon:hover i {
        color: #fff;
        transform: scale(1.2);
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
    }
    
    /* Specific social media colors on hover */
    .social-icon:nth-child(1):hover::before { /* Facebook */
        background: linear-gradient(135deg, #1877f2, #42a5f5);
    }
    
    .social-icon:nth-child(2):hover::before { /* LinkedIn */
        background: linear-gradient(135deg, #0077b5, #00a0dc);
    }
    
    .social-icon:nth-child(3):hover::before { /* YouTube */
        background: linear-gradient(135deg, #ff0000, #ff4444);
    }
    
    .social-icon:nth-child(4):hover::before { /* Twitter */
        background: linear-gradient(135deg, #1da1f2, #1e88e5);
    }
    
    /* Enhanced Copyright Section */
    .copyright-section {
        margin-top: 40px;
        padding-top: 30px;
        border-top: 1px solid rgba(255,255,255,0.1);
        text-align: center;
        position: relative;
    }
    
    .copyright-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        width: 100px;
        height: 1px;
        background: linear-gradient(90deg, 
            transparent, 
            rgba(0, 212, 255, 0.8), 
            transparent);
        transform: translateX(-50%);
        animation: copyrightGlow 2s ease-in-out infinite alternate;
    }
    
    @keyframes copyrightGlow {
        0% { width: 100px; opacity: 0.5; }
        100% { width: 200px; opacity: 1; }
    }
    
    .copyright-section p {
        color: rgba(255,255,255,0.7);
        margin: 0;
        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.5px;
        transition: all 0.3s ease;
    }
    
    .copyright-section p:hover {
        color: rgba(255,255,255,0.9);
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    }
    
    /* Responsive Footer */
    @media (max-width: 768px) {
            .modern-footer {
                padding: 40px 0 20px;
            }
            
            .footer-section {
                padding: 20px 0;
            }
            
            .modern-footer h5 {
                font-size: 15px;
                margin-bottom: 18px;
                text-align: center;
            }
            
            .modern-footer h5::after {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .social-links {
                justify-content: center;
            }
            
            .social-icon {
                width: 45px;
                height: 45px;
            }
            
            .social-icon i {
                font-size: 18px;
            }
            
            .copyright-section {
                text-align: center;
                margin-top: 30px;
            }
            
            .copyright-section::before {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .footer-links {
                text-align: center;
            }
            
            .footer-links {
                margin-bottom: 8px;
            }
            
            .footer-contact-item {
                margin-bottom: 8px !important;
                padding: 6px 0 !important;
                min-height: unset !important;
                max-height: unset !important;
                height: fit-content !important;
                display: flex !important;
                align-items: center !important;
                border-radius: 0 !important;
            }
            
            .footer-contact-item:hover {
                background: rgba(0, 212, 255, 0.1);
                transform: translateX(5px);
                padding-left: 12px;
            }
            
            .footer-contact-item i {
                width: 16px !important;
                margin-right: 10px !important;
                font-size: 16px !important;
                flex-shrink: 0 !important;
            }
            
            .footer-contact-item span,
            .footer-contact-item a {
                font-size: 15px !important;
                line-height: 1.3 !important;
                margin: 0 !important;
                padding: 5px 0 !important;
                display: inline-block !important;
            }
            
            .modern-footer h5 {
                font-size: 14px;
                margin-bottom: 12px;
            }
            
            /* Căn giữa logo và thông tin công ty trên mobile */
            .col-lg-4 .mb-4 {
                text-align: center;
            }
            
            .footer-logo {
                display: block;
                margin: 0 auto 15px auto;
            }
            
            /* Căn giữa thông tin liên hệ trên mobile */
            .col-lg-3:nth-child(3) {
                text-align: center;
            }
            
            .footer-contact-item {
                justify-content: center !important;
                text-align: center !important;
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        // Script để ẩn/hiện navbar khi cuộn
        let prevScrollpos = window.pageYOffset;
        const navbar = document.querySelector('.navbar');
        
        // Thêm class để navbar có thể chuyển đổi mượt mà
        navbar.style.transition = "top 0.3s";
        navbar.style.position = "fixed";
        navbar.style.width = "100%";
        navbar.style.top = "0";
        navbar.style.zIndex = "1000";
        
        // Thêm padding cho body để tránh nội dung bị đẩy lên khi navbar fixed
        document.body.style.paddingTop = navbar.offsetHeight + "px";
        
        window.onscroll = function() {
            let currentScrollPos = window.pageYOffset;
            
            // Ẩn navbar khi cuộn xuống, hiện khi cuộn lên
            if (prevScrollpos > currentScrollPos) {
                navbar.style.top = "0";
            } else {
                navbar.style.top = -navbar.offsetHeight + "px";
            }
            
            prevScrollpos = currentScrollPos;
        }
    
        // Script để set màu cho avatar letter
        document.querySelectorAll('.avatar-letter').forEach(avatar => {
            const color = avatar.dataset.color;
            avatar.style.setProperty('--color', color);
        });
    </script>

    <button class="scroll-to-top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const scrollToTopBtn = document.querySelector('.scroll-to-top');
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.classList.add('visible');
                } else {
                    scrollToTopBtn.classList.remove('visible');
                }
            });
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
    </script>
<!-- Zalo Logo và Menu Chat -->
<div id="zalo-chat-widget" style="display: none; position: fixed; bottom: 10%; right: 120px; width: 300px; background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 9999;">
    <div style="padding: 15px; background: #0068ff; color: white; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center;">
        <span style="font-weight: bold;">Chat với chúng tôi</span>
        <span onclick="closeZaloChat()" style="cursor: pointer;">✕</span>
    </div>
    <div style="padding: 20px;">
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="/static/image/Icon_of_Zalo.png" alt="Zalo Logo" style="width: 50px; height: 50px; margin-bottom: 10px;">
            <p style="margin: 0;">Chào bạn!</p>
            <p style="margin: 5px 0;">Chọn phương thức chat:</p>
        </div>
        
        <!-- Hai nút chat -->
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <a href="https://zalo.me/0369617913" target="_blank" style="display: block; background: #0068ff; color: white; text-decoration: none; padding: 12px; border-radius: 5px; text-align: center;">
                <i class="fab fa-facebook-messenger" style="margin-right: 8px;"></i>
                Chat qua Zalo
            </a>
            
            <button onclick="openQuickChat()" style="background: #28a745; color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer;">
                <i class="fas fa-comments" style="margin-right: 8px;"></i>
                Chat với Admin
            </button>
        </div>
    </div>
</div>

<!-- Cửa sổ Quick Chat -->
<div id="quick-chat-window" style="display: none; position: fixed; bottom: 10%; right: 120px; width: 300px; background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 1000;">
    <div style="padding: 15px; background: #28a745; color: white; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center;">
        <span style="font-weight: bold;">Chat với Admin</span>
        <span onclick="closeQuickChat()" style="cursor: pointer;">✕</span>
    </div>
    <div style="padding: 20px; height: 300px; display: flex; flex-direction: column;">
        <div id="chat-messages" style="flex-grow: 1; overflow-y: auto; margin-bottom: 10px;">
            <!-- Tin nhắn sẽ được thêm vào đây -->
            <div style="text-align: center; color: #666; margin: 10px 0;">Bắt đầu cuộc trò chuyện</div>
        </div>
        <div style="display: flex; gap: 10px;">
            <input type="text" id="quick-chat-input" placeholder="Nhập tin nhắn..." style="flex-grow: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            <button onclick="sendQuickMessage()" style="background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">
                Gửi
            </button>
        </div>
    </div>
</div>

<div id="zalo-logo" onclick="toggleZaloChat()" style="cursor: pointer; z-index: 9999; position: fixed; bottom: 10%; right: 50px;">
    <img src="/static/image/Icon_of_Zalo.png" alt="Zalo Logo" style="width: 50px; height: 50px; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.2); transition: transform 0.3s ease;">
</div>

<script>
function toggleZaloChat() {
    var widget = document.getElementById('zalo-chat-widget');
    var quickChat = document.getElementById('quick-chat-window');
    if (widget.style.display === 'none') {
        widget.style.display = 'block';
        quickChat.style.display = 'none';
    } else {
        widget.style.display = 'none';
    }
}

function closeZaloChat() {
    document.getElementById('zalo-chat-widget').style.display = 'none';
}

function openQuickChat() {
    document.getElementById('zalo-chat-widget').style.display = 'none';
    document.getElementById('quick-chat-window').style.display = 'block';
}

function closeQuickChat() {
    document.getElementById('quick-chat-window').style.display = 'none';
}

function sendQuickMessage() {
    var input = document.getElementById('quick-chat-input');
    var message = input.value.trim();
    
    if (message) {
        var messagesDiv = document.getElementById('chat-messages');
        var messageElement = document.createElement('div');
        messageElement.style.cssText = 'background: #e9ecef; padding: 8px; border-radius: 4px; margin: 5px 0; align-self: flex-end;';
        messageElement.textContent = message;
        
        messagesDiv.appendChild(messageElement);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
        input.value = '';
        
        // Thêm phản hồi tự động từ admin (có thể thay thế bằng logic backend thực tế)
        setTimeout(() => {
            var adminResponse = document.createElement('div');
            adminResponse.style.cssText = 'background: #28a745; color: white; padding: 8px; border-radius: 4px; margin: 5px 0; align-self: flex-start;';
            adminResponse.textContent = 'Cảm ơn bạn đã liên hệ. Chúng tôi sẽ phản hồi sớm nhất có thể!';
            messagesDiv.appendChild(adminResponse);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }, 1000);
    }
}
</script>

<script>
// Function để hiển thị toast notification
function showToast(message, type = 'error') {
    const toastContainer = document.getElementById('toastContainer');
    
    const toast = document.createElement('div');
    toast.className = 'toast';
    
    const toastHeader = document.createElement('div');
    toastHeader.className = 'toast-header';
    
    const icon = type === 'error' ? '❌' : '✅';
    const title = type === 'error' ? 'Lỗi' : 'Thành công';
    
    toastHeader.innerHTML = `
        <span style="margin-right: 10px;">${icon}</span>
        <strong>${title}</strong>
        <button type="button" class="btn-close" onclick="closeToast(this)" style="background: none; border: none; font-size: 18px; margin-left: auto; cursor: pointer;">×</button>
    `;
    
    const toastBody = document.createElement('div');
    toastBody.className = 'toast-body';
    toastBody.textContent = message;
    
    toast.appendChild(toastHeader);
    toast.appendChild(toastBody);
    toastContainer.appendChild(toast);
    
    // Hiển thị toast
    setTimeout(() => {
        toast.classList.add('show');
    }, 100);
    
    // Tự động ẩn sau 5 giây
    setTimeout(() => {
        closeToast(toast.querySelector('.btn-close'));
    }, 5000);
}

function closeToast(button) {
    const toast = button.closest('.toast');
    toast.style.animation = 'fadeOutRight 0.5s';
    setTimeout(() => {
        toast.remove();
    }, 500);
}

// Dashboard access is handled by backend authentication

// CSS animation cho fadeOutRight
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeOutRight {
        from { opacity: 1; transform: translateX(0); }
        to { opacity: 0; transform: translateX(100%); }
    }
    @keyframes fadeInRight {
        from { opacity: 0; transform: translateX(100%); }
        to { opacity: 1; transform: translateX(0); }
    }
`;
document.head.appendChild(style);

        // --- MOBILE MENU OFFCANVAS ---
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileMenuClose = document.getElementById('mobileMenuClose');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
        const mobileMenuLinks = document.querySelectorAll('.mobile-menu-list a');
        function openMobileMenu() {
            mobileMenu.classList.add('active');
            document.body.classList.add('mobile-menu-blur');
            document.body.style.overflow = 'hidden';
            setTimeout(()=>{document.getElementById('mobileMenuClose').focus();}, 200);
        }
        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            document.body.classList.remove('mobile-menu-blur');
            document.body.style.overflow = '';
        }
        if (mobileMenuToggle) mobileMenuToggle.addEventListener('click', openMobileMenu);
        if (mobileMenuClose) mobileMenuClose.addEventListener('click', closeMobileMenu);
        if (mobileMenuOverlay) mobileMenuOverlay.addEventListener('click', closeMobileMenu);
        mobileMenuLinks.forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });
        document.addEventListener('keydown', function(e) {
            if (mobileMenu.classList.contains('active') && (e.key === 'Escape' || e.key === 'Esc')) {
                closeMobileMenu();
            }
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navbar = document.querySelector('.modern-navbar');
            const toggler = document.querySelector('.navbar-toggler');
            const collapse = document.querySelector('.navbar-collapse');
            const body = document.body;

            // Tạo overlay
            const overlay = document.createElement('div');
            overlay.className = 'navbar-overlay';
            body.appendChild(overlay);

            // Xử lý click toggle
            toggler.addEventListener('click', function() {
                collapse.classList.toggle('show');
                overlay.classList.toggle('show');
                body.style.overflow = collapse.classList.contains('show') ? 'hidden' : '';
            });

            // Đóng menu khi click overlay
            overlay.addEventListener('click', function() {
                collapse.classList.remove('show');
                overlay.classList.remove('show');
                body.style.overflow = '';
                toggler.setAttribute('aria-expanded', 'false');
            });

            // Đóng menu khi click nav-link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    collapse.classList.remove('show');
                    overlay.classList.remove('show');
                    body.style.overflow = '';
                    toggler.setAttribute('aria-expanded', 'false');
                });
            });

            // Đóng menu khi nhấn ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && collapse.classList.contains('show')) {
                    collapse.classList.remove('show');
                    overlay.classList.remove('show');
                    body.style.overflow = '';
                    toggler.setAttribute('aria-expanded', 'false');
                }
            });

            // ... existing code ...
        });
    </script>
</body>
</html>